<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated Sep 12, 2009 11:04:23 AM by Hibernate Tools 3.2.1.GA -->
<hibernate-mapping>
  <class lazy="false" mutable="false" name="com.jilit.irp.persistence.dto.V_ProgrmSecBranchSem" optimistic-lock="none" table="V_PROGRMSECBRANCHSEM">
    <synchronize table="PROGRAMMASTER"/>
    <synchronize table="BRANCHMASTER"/>
    <synchronize table="PROGRAMMINMAXLIMIT"/>
    <synchronize table="PROGRAMWISESUBSECTION"/>
    <synchronize table="PROGRAMMAXSTY"/>
    <synchronize table="SECTIONMASTER"/>
    <composite-id>
      <key-property column="INSTITUTEID" name="instituteid"/>
      <key-property column="PROGRAMID" name="programid"/>
      <key-property column="SUBSECTIONID" name="subsectionid"/>
      <key-property column="SECTIONID" name="sectionid"/>
      <key-property column="BRANCHID" name="branchid"/>
    </composite-id>
    <property name="programcode" type="string">
      <column length="20" name="PROGRAMCODE"/>
    </property>
    <property name="programdesc" type="string">
      <column length="100" name="PROGRAMDESC"/>
    </property>
    <property name="programdeactive" type="string">
      <column length="1" name="PROGRAMDEACTIVE"/>
    </property>
    <property name="sectioncode" type="string">
      <column length="20" name="SECTIONCODE"/>
    </property>
    <property name="sectiondesc" type="string">
      <column length="100" name="SECTIONDESC"/>
    </property>
    <property name="academicyear" type="string">
      <column length="8" name="ACADEMICYEAR"/>
    </property>
    <property name="sectiontype" type="string">
      <column length="1" name="SECTIONTYPE"/>
    </property>
    <property name="stypattern" type="string">
      <column length="1" name="STYPATTERN"/>
    </property>
    <property name="stynumber" type="java.lang.Short">
      <column name="STYNUMBER" precision="2" scale="0"/>
    </property>
    <property name="stydesc" type="string">
      <column length="30" name="STYDESC"/>
    </property>
    <property name="startsty" type="java.lang.Short">
      <column name="STARTSTY" precision="2" scale="0"/>
    </property>
    <property name="endsty" type="java.lang.Short">
      <column name="ENDSTY" precision="2" scale="0"/>
    </property>
    <property name="branchcode" type="string">
      <column length="1" name="BRANCHCODE"/>
    </property>
    <property name="branchdesc" type="string">
      <column length="1" name="BRANCHDESC"/>
    </property>
    <property name="subsectioncode" type="string">
      <column length="1" name="SUBSECTIONCODE"/>
    </property>
    <property name="subsectiondesc" type="string">
      <column length="1" name="SUBSECTIONDESC"/>
    </property>
    <property name="sectionmaxstudent" type="java.lang.Integer">
      <column length="1" name="SECTIONMAXSTUDENT"/>
    </property>
    <property name="subsectionmaxstudent" type="java.lang.Integer">
      <column length="1" name="SUBSECTIONMAXSTUDENT"/>
    </property>
  </class>
  <!--Column Name	ID	Data Type	Null?

Column Name	ID	Data Type	Null?

Column Name	ID	Data Type	Null?

INSTITUTEID	1	VARCHAR2 (20 Byte)	N
PROGRAMID	2	VARCHAR2 (20 Byte)	N
PROGRAMCODE	3	VARCHAR2 (20 Byte)	N
PROGRAMDESC	4	VARCHAR2 (100 Byte)	Y
PROGRAMDEACTIVE	5	VARCHAR2 (1 Byte)	Y
SECTIONID	6	VARCHAR2 (20 Byte)	N
SECTIONCODE	7	VARCHAR2 (20 Byte)	N
SECTIONDESC	8	VARCHAR2 (60 Byte)	N
ACADEMICYEAR	9	VARCHAR2 (8 Byte)	N
STYNUMBER	10	NUMBER (2)	N
SECTIONTYPE	11	VARCHAR2 (1 Byte)	N
STYPATTERN	12	VARCHAR2 (1 Byte)	N
STYDESC	13	VARCHAR2 (30 Byte)	N
STARTSTY	14	NUMBER (2)	N
ENDSTY	15	NUMBER (2)	N
BRANCHID	16	VARCHAR2 (20 Byte)	N
BRANCHCODE	17	VARCHAR2 (20 Byte)	N
BRANCHDESC	18	VARCHAR2 (100 Byte)	N
SUBSECTIONID	19	VARCHAR2 (20 Byte)	N
SUBSECTIONCODE	20	VARCHAR2 (20 Byte)	N
SUBSECTIONDESC	21	VARCHAR2 (60 Byte)	N

-->
  <query name="testquery">
  select  branchid as b, branchcode as a, sectionid as c,
                   count (distinct subsectionid) as  subsectioncount
              from V_ProgrmSecBranchSem vpsbs
             where vpsbs.instituteid = 'INS08000001'
               and vpsbs.academicyear = '2012'
               and vpsbs.programid = 'JIITPROI1002A0000024'
               and vpsbs.stynumber = 1
          group by branchid, branchcode, sectionid
    </query>
</hibernate-mapping>
